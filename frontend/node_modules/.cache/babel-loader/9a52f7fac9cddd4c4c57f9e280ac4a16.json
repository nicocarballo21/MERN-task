{"ast":null,"code":"var _jsxFileName = \"/home/nicolas/react/react-express-web/frontend/src/App.jsx\";\nimport React, { Component } from \"react\";\nimport { runInThisContext } from \"vm\";\nimport \"./App.css\";\nimport NavBar from \"./components/NavBar\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst axios = require(\"axios\").default;\n\nconst swal = require(\"sweetalert2\");\n\nconst URL_API = \"http://localhost:3000/api\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.addTareas = e => {\n      console.log(this.state._id);\n\n      if (this.state._id) {\n        console.log(\"entre edit\");\n        axios.put(`${URL_API}/edit/${this.state._id}`, {\n          titulo: this.state.titulo,\n          description: this.state.descripcion,\n          _id: this.state._id\n        }).then(data => {\n          swal.fire({\n            text: \"Tarea editada\",\n            icon: \"success\",\n            timer: 800\n          });\n        }).catch(err => {\n          swal.fire({\n            text: \"Error al editar\",\n            icon: \"error\",\n            timer: 800\n          });\n        });\n      }\n\n      axios.post(`${URL_API}/create`, {\n        titulo: this.state.titulo,\n        descripcion: this.state.descripcion\n      }).then(() => {\n        swal.fire({\n          text: \"Tarea agregada\",\n          icon: \"success\",\n          showConfirmButton: false,\n          timer: 900\n        });\n      }).catch(() => {\n        swal.fire({\n          text: \"Error al agendar tarea\",\n          icon: \"error\",\n          showConfirmButton: false,\n          timer: 900\n        });\n      }).then(() => {\n        this.setState({\n          titulo: \"\",\n          descripcion: \"\"\n        });\n        this.fetchTareas();\n      });\n      e.preventDefault();\n    };\n\n    this.fetchTareas = () => {\n      axios.get(`${URL_API}/tareas`).then(response => {\n        this.setState({\n          tareas: response.data.data\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.deleteTarea = id => {\n      axios.delete(`${URL_API}/delete/${id}`).then(response => {\n        swal.fire({\n          text: \"Tarea eliminada\",\n          icon: \"success\",\n          showConfirmButton: false,\n          timer: 900\n        });\n      }).catch(err => {\n        swal.fire({\n          text: \"Problemas al eliminar la tarea\",\n          icon: \"error\",\n          showConfirmButton: false,\n          timer: 900\n        });\n      }).then(this.fetchTareas());\n    };\n\n    this.updateTareas = id => {\n      axios.put(`${URL_API}/edit/${id}`).then(data => {\n        this.setState({\n          titulo: data.data.titulo,\n          descripcion: data.data.descripcion,\n          _id: data.data._id\n        });\n        console.log(data);\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.handleChange = e => {\n      const {\n        name,\n        value\n      } = e.target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.state = {\n      titulo: \"\",\n      descripcion: \"\",\n      tareas: [],\n      _id: \"\"\n    };\n  }\n\n  componentDidMount() {\n    this.fetchTareas();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-5 form\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card\",\n              children: /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: this.addTareas,\n                method: \"post\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-floating mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    value: this.state.titulo,\n                    onChange: this.handleChange,\n                    name: \"titulo\",\n                    type: \"text\",\n                    className: \"form-control\",\n                    id: \"titulo-input\",\n                    placeholder: \"Titulo de la tarea\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 149,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"titulo-input\",\n                    children: \"Titulo\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 158,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 148,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-floating\",\n                  children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n                    value: this.state.descripcion,\n                    name: \"descripcion\",\n                    onChange: this.handleChange,\n                    className: \"form-control\",\n                    placeholder: \"Descripcion de la tarea\",\n                    id: \"descripcion-input\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 161,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"descripcion-input\",\n                    children: \"Descripcion\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 169,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  className: \"btn btn-success\",\n                  children: \"Add\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 172,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-7\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"table table-hover \",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Titulo\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 183,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Descripcion\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 184,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: this.state.tareas.map(tarea => {\n                  return /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: tarea.titulo\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 191,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: tarea.descripcion\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 192,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => {\n                          this.updateTareas(tarea._id);\n                        },\n                        className: \"btn btn-outline-primary ml-2\",\n                        children: \"Editar\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 194,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => {\n                          this.deleteTarea(tarea._id);\n                        },\n                        className: \"btn btn-outline-danger\",\n                        children: \"Eliminar\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 202,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 193,\n                      columnNumber: 25\n                    }, this)]\n                  }, tarea._id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 190,\n                    columnNumber: 23\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/nicolas/react/react-express-web/frontend/src/App.jsx"],"names":["React","Component","runInThisContext","NavBar","axios","require","default","swal","URL_API","App","constructor","props","addTareas","e","console","log","state","_id","put","titulo","description","descripcion","then","data","fire","text","icon","timer","catch","err","post","showConfirmButton","setState","fetchTareas","preventDefault","get","response","tareas","deleteTarea","id","delete","updateTareas","handleChange","name","value","target","componentDidMount","render","map","tarea"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\"\nimport { runInThisContext } from \"vm\"\nimport \"./App.css\"\nimport NavBar from \"./components/NavBar\"\nconst axios = require(\"axios\").default\nconst swal = require(\"sweetalert2\")\n\nconst URL_API = \"http://localhost:3000/api\"\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      titulo: \"\",\n      descripcion: \"\",\n      tareas: [],\n      _id: \"\"\n    }\n  }\n\n  componentDidMount() {\n    this.fetchTareas()\n  }\n\n  addTareas = (e) => {\n    console.log(this.state._id)\n    if (this.state._id) {\n      console.log(\"entre edit\")\n      axios\n        .put(`${URL_API}/edit/${this.state._id}`, {\n          titulo: this.state.titulo,\n          description: this.state.descripcion,\n          _id: this.state._id\n        })\n        .then((data) => {\n          swal.fire({\n            text: \"Tarea editada\",\n            icon: \"success\",\n            timer: 800\n          })\n        })\n        .catch((err) => {\n          swal.fire({\n            text: \"Error al editar\",\n            icon: \"error\",\n            timer: 800\n          })\n        })\n    }\n    axios\n      .post(`${URL_API}/create`, {\n        titulo: this.state.titulo,\n        descripcion: this.state.descripcion\n      })\n      .then(() => {\n        swal.fire({\n          text: \"Tarea agregada\",\n          icon: \"success\",\n          showConfirmButton: false,\n          timer: 900\n        })\n      })\n      .catch(() => {\n        swal.fire({\n          text: \"Error al agendar tarea\",\n          icon: \"error\",\n          showConfirmButton: false,\n          timer: 900\n        })\n      })\n      .then(() => {\n        this.setState({\n          titulo: \"\",\n          descripcion: \"\"\n        })\n        this.fetchTareas()\n      })\n\n    e.preventDefault()\n  }\n\n  fetchTareas = () => {\n    axios\n      .get(`${URL_API}/tareas`)\n      .then((response) => {\n        this.setState({\n          tareas: response.data.data\n        })\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  deleteTarea = (id) => {\n    axios\n      .delete(`${URL_API}/delete/${id}`)\n      .then((response) => {\n        swal.fire({\n          text: \"Tarea eliminada\",\n          icon: \"success\",\n          showConfirmButton: false,\n          timer: 900\n        })\n      })\n      .catch((err) => {\n        swal.fire({\n          text: \"Problemas al eliminar la tarea\",\n          icon: \"error\",\n          showConfirmButton: false,\n          timer: 900\n        })\n      })\n      .then(this.fetchTareas())\n  }\n\n  updateTareas = (id) => {\n    axios\n      .put(`${URL_API}/edit/${id}`)\n      .then((data) => {\n        this.setState({\n          titulo: data.data.titulo,\n          descripcion: data.data.descripcion,\n          _id: data.data._id\n        })\n        console.log(data)\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  handleChange = (e) => {\n    const { name, value } = e.target\n    this.setState({\n      [name]: value\n    })\n  }\n  render() {\n    return (\n      <React.Fragment>\n        <NavBar />\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-md-5 form\">\n              <div className=\"card\">\n                <form onSubmit={this.addTareas} method=\"post\">\n                  <div className=\"form-floating mb-3\">\n                    <input\n                      value={this.state.titulo}\n                      onChange={this.handleChange}\n                      name=\"titulo\"\n                      type=\"text\"\n                      className=\"form-control\"\n                      id=\"titulo-input\"\n                      placeholder=\"Titulo de la tarea\"\n                    ></input>\n                    <label htmlFor=\"titulo-input\">Titulo</label>\n                  </div>\n                  <div className=\"form-floating\">\n                    <textarea\n                      value={this.state.descripcion}\n                      name=\"descripcion\"\n                      onChange={this.handleChange}\n                      className=\"form-control\"\n                      placeholder=\"Descripcion de la tarea\"\n                      id=\"descripcion-input\"\n                    ></textarea>\n                    <label htmlFor=\"descripcion-input\">Descripcion</label>\n                  </div>\n                  <hr />\n                  <button type=\"submit\" className=\"btn btn-success\">\n                    Add\n                  </button>\n                </form>\n              </div>\n            </div>\n\n            <div className=\"col-md-7\">\n              <table className=\"table table-hover \">\n                <thead>\n                  <tr>\n                    <th>Titulo</th>\n                    <th>Descripcion</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {this.state.tareas.map((tarea) => {\n                    return (\n                      <tr key={tarea._id}>\n                        <td>{tarea.titulo}</td>\n                        <td>{tarea.descripcion}</td>\n                        <td>\n                          <button\n                            onClick={() => {\n                              this.updateTareas(tarea._id)\n                            }}\n                            className=\"btn btn-outline-primary ml-2\"\n                          >\n                            Editar\n                          </button>\n                          <button\n                            onClick={() => {\n                              this.deleteTarea(tarea._id)\n                            }}\n                            className=\"btn btn-outline-danger\"\n                          >\n                            Eliminar\n                          </button>\n                        </td>\n                      </tr>\n                    )\n                  })}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </React.Fragment>\n    )\n  }\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}